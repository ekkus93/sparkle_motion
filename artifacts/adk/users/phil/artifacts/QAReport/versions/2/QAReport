{
  "$defs": {
    "QAReportPerShot": {
      "properties": {
        "artifact_notes": {
          "items": {
            "type": "string"
          },
          "title": "Artifact Notes",
          "type": "array"
        },
        "audio_peak_db": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Audio Peak Db"
        },
        "finger_issue_ratio": {
          "anyOf": [
            {
              "maximum": 1.0,
              "minimum": 0.0,
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Finger Issue Ratio"
        },
        "finger_issues": {
          "default": false,
          "title": "Finger Issues",
          "type": "boolean"
        },
        "missing_audio_detected": {
          "default": false,
          "title": "Missing Audio Detected",
          "type": "boolean"
        },
        "prompt_match": {
          "maximum": 1.0,
          "minimum": 0.0,
          "title": "Prompt Match",
          "type": "number"
        },
        "safety_violation": {
          "default": false,
          "title": "Safety Violation",
          "type": "boolean"
        },
        "shot_id": {
          "title": "Shot Id",
          "type": "string"
        }
      },
      "required": [
        "shot_id",
        "prompt_match"
      ],
      "title": "QAReportPerShot",
      "type": "object"
    }
  },
  "$id": "sparkle_motion/QAReport.schema.json",
  "description": "Automated QA output",
  "properties": {
    "aggregate_prompt_match": {
      "anyOf": [
        {
          "maximum": 1.0,
          "minimum": 0.0,
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Aggregate Prompt Match"
    },
    "decision": {
      "anyOf": [
        {
          "enum": [
            "approve",
            "regenerate",
            "escalate",
            "pending"
          ],
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Decision"
    },
    "issues_found": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Issues Found"
    },
    "movie_title": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Movie Title"
    },
    "per_shot": {
      "items": {
        "$ref": "#/$defs/QAReportPerShot"
      },
      "title": "Per Shot",
      "type": "array"
    },
    "summary": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Summary"
    }
  },
  "title": "QAReport",
  "type": "object"
}